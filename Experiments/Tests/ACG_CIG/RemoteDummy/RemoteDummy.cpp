#include <Windows.h>
#include <stdio.h>
#include <stdint.h>

int32_t wmain(int32_t nArgc, const wchar_t* pArgv[]) {
	printf("... current PID: %d\r\n", GetCurrentProcessId());
	system("pause");/*
	STARTUPINFOW StartupInfo = { 0 };
	PROCESS_INFORMATION ProcInfo = { 0 };
	wchar_t CommandLine[MAX_PATH + 1] = { 0 };

	StartupInfo.cb = sizeof(StartupInfo);
	_snwprintf_s(CommandLine, MAX_PATH + 1, L"Protected32.exe %d", GetCurrentProcessId());

	if (CreateProcessW(nullptr, CommandLine, nullptr, nullptr, false, DETACHED_PROCESS, nullptr, nullptr, &StartupInfo, &ProcInfo)) {
		printf("... successfully launched protected process (PID %d)\r\n", ProcInfo.dwProcessId);
	}
	else {
		printf("... failed to launch protected process\r\n");
	}

	system("pause");*/
	return 0;
}