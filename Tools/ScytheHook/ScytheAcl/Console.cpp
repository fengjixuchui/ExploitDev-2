#include "stdafx.h"

int32_t wmain(int32_t nArgc, const wchar_t* pArgv[]) {
	shared_ptr<Interface> Intf = make_shared<Interface>(L"test.log");
	CreateFileW(pArgv[1], FILE_APPEND_DATA, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_ALWAYS, 0, NULL);
	system("pause");
	if (SetEveryoneFileAcl(*Intf, pArgv[1])) {
		Intf->Log("... successfully set ACL for Everyone on %ws\r\n", pArgv[1]);
	}
	else {
		Intf->Log("... failed to set ACL for Everyone on %ws\r\n", pArgv[1]);
	}

	return 0;
}