#include "StdAfx.h"
#include "ScytheHookDll.h"

HINSTANCE ghInstance = nullptr;
wchar_t gSelfModulePath[MAX_PATH + 1] = { 0 };

BOOL WINAPI DllMain(HINSTANCE hInstance, uint32_t dwReason, void* pReserved) {
	if (dwReason == DLL_PROCESS_ATTACH) {
        ghInstance = hInstance;
		GetModuleFileNameW(ghInstance, gSelfModulePath, MAX_PATH + 1);
        CreateThread(nullptr, 0, (LPTHREAD_START_ROUTINE)SetHooks, nullptr, 0, nullptr);
	}

	return TRUE;
}