#include "stdafx.h"

extern "C" __declspec(dllexport) void Install() {
	PROCESSENTRY32W ProcEntry = { 0 };
	HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0);
	Interface Intf(true);

	Intf.Log("... enumerating processes for DLL injection...\r\n");
	if (hSnapshot != nullptr) {
		ProcEntry.dwSize = sizeof(PROCESSENTRY32W);

		if (Process32FirstW(hSnapshot, &ProcEntry)) {
			do {
				if (ProcEntry.th32ProcessID != GetCurrentProcessId()) {
					//
				}
			} while (Process32NextW(hSnapshot, &ProcEntry));
		}

		CloseHandle(hSnapshot);
	}

	system("pause");
}